<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style/style.css">
    <link rel="stylesheet" href="./style/navbar.css">
    <title>Shop.com</title>
</head>

<body>
    <section id="navbar">
        <div class="navbar-left">
            <a href="index.html">
                <div id="logo">
                    <img src="https://img.shop.com/Image/resources/logos/shop-logo-us-christmas.svg" alt="" />
                </div>
            </a>
            <div id="menu-bar">
                <img src="https://img.shop.com/Image/resources/images/icon-menu-24px.svg" alt="" />
            </div>
        </div>
        <div id="navbar-right">
            <div id="navbar-right-top">
                <div class="searchbar">
                    <input type="text" placeholder="Search" id="video_search" />
                    <div>
                        <img  src="https://cdn2.iconfinder.com/data/icons/apple-inspire-white/100/Apple-30-512.png"
                            width="20px" height="20px" />
                    </div>
                </div>
                <div id="header-left-top">
                    <img src="https://img.shop.com/Image/header2013/layered-us-eng-105972-blk-friday-bannerheader1668091493562.jpg"
                        alt="" />
                </div>
            </div>
            <div class="navbar-right-bottom">
                <ul class="dept-list">
                    <li class="dept-item">
                        <a href="mensData.html" class="active">Men</a>
                    </li>
                    <li class="dept-item">
                        <a href="womansData.html">Women</a>
                    </li>
                    <li class="dept-item">
                        <a href="kidsData.html">Kids</a>
                    </li>
                    <li class="dept-item">
                        <a href="./electronics.html">Electronics</a>
                    </li>
                    <li class="dept-item">
                        <a href="./health.html">Health</a>
                    </li>
                </ul>
                <div class="nav-icons">
                    <a href="login.html"><i class="fas fa-user-circle"><span class="thinFont">Sign In</span></i></a>
                    <a href="order.html"><i class="fas fa-redo-alt"><span class="thinFont"> Orders</span></i></a>
                    <a href="cart.html"><i class="fas fa-shopping-cart"><span class="thinFont"> Cart</span></i></a>
                </div>
               
            </div>
            
        </div>
        <button type="button" class="nav-toggler">
            <span></span>
         </button>
    </section>
    <div id="total">
        <h2>Your Cart</h2>
    </div>
        <div class="mainCart">
            <div id="container2"></div>
            <div class="orderTotal">
              <div class="orderPrice">
                <h2>Order Total</h2>
              </div>
              <div class="totalprice">
              </div>
              <p style="text-align:center; padding: left 15px;margin:10px"><a href="index.html" target="_blank" rel="noopener noreferrer" style="text-decoration: none;"> Continue Shoping</a></p>
            <button class="checkoutBtn" onclick="window.location.href = 'address.html'">Proceed To Checkout</button>
            <button class="checkoutBt" href="payment.html" target="_blank">Paypal</button>
            <button style="float:right; padding-right: 40px; margin-top: 20px; border: none;"> <img
                href="payment.html" target="_blank" src="https://src.mastercard.com/assets/img/btn/src_chk_btn_147x034px.svg?locale=en_us&paymentmethod=master,visa,discover,amex&checkoutid=a4a6w4v6h7cg0iaijxn0j1iaoelnus5936"
                    alt=""></button>
        </div>
    </div>

    <footer id="footer">
        <div class="footer-up">
            <div class="deals-1">
                <div class="right">
                    <h5>Get Email Deals & Earn Cashback</h5>
                    <input type="text" placeholder="enter email address..." id="email" /><span><button
                            id="footer-btn">sign
                            Up</button></span>
                </div>
                <p>Link to this page and tell all your friends</p>
            </div>
            <div class="deals-2">
                <p>
                    About Us | Help | Accessibility Statement | Contact Us | Partner
                    with us | Services | Country/Region | Connect | Own your Own Shop
                    Site
                </p>
                <span>
                    <i class="fas fa-envelope"></i>
                    <i class="fab fa-facebook"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-pinterest"></i>
                </span>
            </div>
        </div>
        <div class="footer-down">
            <p>
                Â© 1997-2022 Market America, Inc. or its affiliates. All other
                designated trademarks, copyrights, and brands are the property of
                their respective owners.
            </p>
            <p>
                Only Customers will receive cashback on qualifying purchases.
                UnFranchise Owners/Shop Consultants will receive increased IBV instead
                of cashback on qualifying purchases.
            </p>
            <div class="policy">
                <a href="#">Policy</a> | <a href="#">Terms of Use</a> |
                <a href="#">Advertising disclosure</a> |
                <a href="#">Return Policy</a> |
                <a href="#">Shipping Information</a>
            </div>
            <hr />
            <div class="footer-images">
                <img src="https://www.shop.com/feo-cdn/A/A/pzI6tGZhU.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/z/b/qA5FJf0J4.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/q/B/9huVMYs4g.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/9/y/SggnBCF2o.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/p/Y/nOXdu76ik.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/u/P/cg2zbaz_s.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/K/F/E44Pe49Qs.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/T/P/ESOWP6gWY.webp" alt="" />
                <img src="https://www.shop.com/feo-cdn/T/P/ESOWP6gWY.webp" alt="" />
            </div>
            <div id="foot-img-last">
                <img src="./images/download.png" alt="" />
            </div>
        </div>
    </footer>
</body>

</html>

<script>
    var cart = JSON.parse(localStorage.getItem("CartArray")) || [];

    populate(cart);

    function populate(cart) {

        document.querySelector("#container2").innerHTML = "";


        cart.map(function (elem, i) {
            var div1 = document.createElement("div");
            div1.setAttribute("class", "card2");

            var image = document.createElement("img");
            image.setAttribute("src", elem.link);

            var cartItem = document.createElement("div");
            cartItem.setAttribute("class", "cartItem")

            var name = document.createElement("h4");
            name.setAttribute("class", "nameCart");
            name.textContent = elem.title;

            var div2 = document.createElement("div");
            div2.setAttribute("class", "flex");

            var p1 = document.createElement("p");
            p1.setAttribute("class", "priceCart");
            p1.textContent = "$" + elem.price;



            var p2 = document.createElement("p");
            p2.setAttribute("class", "cashBackCart");
            p2.textContent = "$" + elem.cashBack;

            var sizeCart = document.createElement("p");
            sizeCart.setAttribute("class", "sizeCart");
            sizeCart.textContent = "Size: M";

            var colorCart = document.createElement("p");
            colorCart.setAttribute("class", "colorCart");
            colorCart.textContent = "Color: Black";


            var quantDiv = document.createElement("div");
            quantDiv.setAttribute("class", "quantDiv");


            var quantity = document.createElement("p");
            quantity.setAttribute("class", "quantity");
            quantity.textContent = ("Quantity:");

            var quantityCounter = document.createElement("input");
            quantityCounter.setAttribute("class", "quantityInput");
            quantityCounter.value = 1;

            quantDiv.append(quantity, quantityCounter);

            var remove = document.createElement("button");
            remove.setAttribute("class", "removeBtn");
            remove.textContent = "Remove Item";
            remove.addEventListener("click", function () {
                removeElement(i);
            })



            // div2.append(p1, p2);

            cartItem.append(name, div2, p1, p2, sizeCart, colorCart, quantDiv);
            div1.append(image, cartItem, remove);
            document.querySelector("#container2").append(div1);
        });
    }

    function removeElement(i) {
        cart.splice(i, 1);
        console.log(i)
        populate(cart);
        localStorage.setItem("CartArray", JSON.stringify(cart));
        location.reload();
    }

    var total = cart.reduce(function (acc, cv) {
        return Number((acc + Number(cv.price)).toFixed(2));
    }, 0);

    document.querySelector(
        ".totalprice"
    ).textContent = `Subtotal: $${total}`;



</script><script src="./script/navbar.js"></script>